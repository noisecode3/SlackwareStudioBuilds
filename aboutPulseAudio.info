# /etc/pulse/daemon.conf
# lock memory!
; lock-memory = yes

## If you set JACK server to start realtime mode with priority 95
## "jitter" could be around 86-0, rtirq is in this case is set to
## 95 and therefor the internal sound card is 96 with only
## linux migration processes running at 99 (RT).
## With usb at 91-90, keyboard n mouse is 86-85, and so on...
## Therefor is seems correct to set the main threads of all sound
## servers the above 86 (in this case) to eliminate xruns, and it works 
## according to my testing om my own machines,
## on a non realtime patched kernel. A normal SMP PREEMPT kernel. 

# end of /etc/pulse/daemon.conf

# This is a command you can run _AFTER_ you're desktop starts pulseaudio
# the "-p 90" part will set the priority, you can set this up with polkit
# just memory locking alone will remove most xruns
pulseid=$(ps -e | grep pulseaudio | awk '{print $1;}') ; chrt -p 90 $pulseid

# one way to use the command could be
to create file:
vim /usr/sbin/pulse_priority.sh

#!/bin/bash
sleep 5
pulseid=$(ps -e | grep pulseaudio | awk '{print $1;}')
while [ "$pulseid" = "" ]
do
  sleep 2
  pulseid=$(ps -e | grep pulseaudio | awk '{print $1;}')
done
chrt -p 90 $pulseid
# end of file

chown root:root /usr/sbin/pulse_priority.sh
chmod 700 /usr/sbin/pulse_priority.sh

# vim /etc/sudoers.d/pulse
%audio ALL=(ALL:ALL) NOPASSWD: /usr/sbin/pulse_priority.sh

# Run this after jack start
sudo /usr/sbin/pulse_priority.sh

## Make sure you have installed rtirq from
## https://slackbuilds.org/repository/15.0/system/rtirq/
## and that this is in you're /etc/rc.d/rc.local

if [ -x /etc/rc.d/rc.rtirq ]; then
  /etc/rc.d/rc.rtirq start
fi

## Make sure this is set in /etc/rtirq.conf
# Highest priority.
RTIRQ_PRIO_HIGH=95

## You also need http://www.slackware.com/~alien/slackbuilds/pulseaudio-jack
## and make sure you run jackdbus, tick dbus in setup of qjackctl

## This program could also help you
https://slackbuilds.org/repository/15.0/system/set_rlimits/
